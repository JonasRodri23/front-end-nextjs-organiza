(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[576],{9035:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/orcamentos",function(){return t(8086)}])},8086:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return v}});var a=t(5893),l=t(7294),s=t(1557),o=t.n(s),r=e=>{let{title:n,onClose:t,children:l}=e;return(0,a.jsx)("div",{className:o().modal,children:(0,a.jsxs)("div",{className:o().modal_content,children:[(0,a.jsx)("span",{className:o().close,onClick:t,children:"\xd7"}),(0,a.jsx)("h2",{children:n}),l]})})},c=e=>{let{onSave:n}=e,[t,s]=(0,l.useState)(""),[o,r]=(0,l.useState)("");return(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"expenseTitle",children:"T\xedtulo do Gasto:"}),(0,a.jsx)("input",{type:"text",id:"expenseTitle",value:t,onChange:e=>{s(e.target.value)}}),(0,a.jsx)("label",{htmlFor:"expenseValue",children:"Valor do Gasto:"}),(0,a.jsx)("input",{type:"number",id:"expenseValue",value:o,onChange:e=>{r(e.target.value)}}),(0,a.jsx)("button",{onClick:()=>{n(t,o)},children:"Salvar"})]})},d=t(871),i=t.n(d),u=e=>{let{onSave:n}=e,[t,s]=(0,l.useState)(""),[o,r]=(0,l.useState)("");return(0,a.jsxs)("div",{className:i().formOrcamento,children:[(0,a.jsx)("h1",{children:"Adicionar Or\xe7amento"}),(0,a.jsx)("label",{htmlFor:"budgetTitle",children:"T\xedtulo do Or\xe7amento:"}),(0,a.jsx)("input",{type:"text",id:"budgetTitle",value:t,onChange:e=>{s(e.target.value)}}),(0,a.jsx)("label",{htmlFor:"plannedValue",children:"Valor Planejado:"}),(0,a.jsx)("input",{type:"number",id:"plannedValue",value:o,onChange:e=>{r(e.target.value)}}),(0,a.jsx)("button",{onClick:()=>{n(t,o)},children:"Salvar"})]})},x=t(5918),h=t.n(x),m=t(9008),p=t.n(m),_=t(1664),j=t.n(_),v=()=>{let[e,n]=(0,l.useState)([]),[t,s]=(0,l.useState)(!1),[o,d]=(0,l.useState)(null),[i,x]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let e=JSON.parse(localStorage.getItem("budgets"))||[];n(e)},[]);let m=e=>{d(e),x(e=>!e)},_=()=>{s(!1),d(null),x(!1)},v=(t,a)=>{if(null!==o&&t&&a){let l=e.map((e,n)=>n===o?{...e,spentValue:e.spentValue+parseFloat(a),expenses:[...e.expenses,{title:t,value:parseFloat(a)}]}:e);n(l)}_()},f=()=>{if(null!==o){let t=e.filter((e,n)=>n!==o);n(t),_()}};return(0,a.jsxs)("div",{children:[(0,a.jsxs)(p(),{children:[(0,a.jsx)("title",{children:"Or\xe7amentos"}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"})]}),(0,a.jsxs)("div",{className:h().header,children:[(0,a.jsx)(j(),{href:"/dashboard",children:(0,a.jsx)("button",{className:h().backButton,children:"Voltar ao Dashboard"})}),(0,a.jsx)("h1",{children:"Defini\xe7\xe3o de Or\xe7amento"}),(0,a.jsx)("button",{className:h().addOrcamento,onClick:()=>{d(null),s(!0)},children:"Adicionar Or\xe7amento"})]}),(0,a.jsx)("div",{className:h()["cards-container"],children:e.map((e,n)=>(0,a.jsxs)("div",{className:h().card,children:[(0,a.jsx)("h3",{onClick:()=>m(n),style:{cursor:"pointer"},children:e.title}),(0,a.jsxs)("p",{children:["Valor Planejado: R$ ",e.plannedValue.toFixed(2)]}),(0,a.jsxs)("p",{children:["Valor Gasto: R$ ",e.spentValue.toFixed(2)]}),i&&o===n&&(0,a.jsxs)("div",{className:h()["modal-expense-content"],children:[(0,a.jsx)("h3",{children:"Adicionar Despesa"}),(0,a.jsx)(c,{onSave:v}),e.expenses.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{children:"Valores Gastos:"}),(0,a.jsx)("ul",{children:e.expenses.map((e,n)=>(0,a.jsxs)("li",{children:[(0,a.jsxs)("strong",{children:[e.title,":"]})," R$"," ",e.value.toFixed(2)]},n))})]}),(0,a.jsx)("button",{onClick:f,style:{color:"#fff",backgroundColor:"red",display:"flex",fontSize:"0.8vw"},children:"EXCLUIR"})]})]},n))}),t&&(0,a.jsx)("div",{className:h().modal,children:(0,a.jsx)("div",{className:h()["modal-content"],children:(0,a.jsx)(r,{onClose:_,children:null!==o?(0,a.jsx)(c,{onSave:v}):(0,a.jsx)(u,{onSave:(t,a)=>{if(t&&a){let l={title:t,plannedValue:parseFloat(a),spentValue:0,expenses:[]};n([...e,l])}_()}})})})})]})}},871:function(e){e.exports={formOrcamento:"FormOrcamento_formOrcamento__J_RBn"}},1557:function(e){e.exports={close:"Modal_close__zK_dY"}},5918:function(e){e.exports={header:"Orcamento_header__l3lQi",addOrcamento:"Orcamento_addOrcamento__tPYFF",backButton:"Orcamento_backButton__bC3L5","cards-container":"Orcamento_cards-container__da1ym",card:"Orcamento_card__ik00w","modal-expense-content":"Orcamento_modal-expense-content__pvLrN",modal:"Orcamento_modal___BVay","modal-content":"Orcamento_modal-content__Z9P96",closebutton:"Orcamento_closebutton__zx_VE"}}},function(e){e.O(0,[996,774,888,179],function(){return e(e.s=9035)}),_N_E=e.O()}]);